import net.woggioni.gradle.graalvm.NativeImagePlugin
import net.woggioni.gradle.graalvm.NativeImageTask

plugins {
    id 'java-library'
    alias(catalog.plugins.lombok)
    alias(catalog.plugins.envelope)
    alias(catalog.plugins.graalvm.native.image)
}

repositories {
    mavenCentral()
}

dependencies {
    implementation project(':jmath')
}

application {
    mainClass = 'net.woggioni.jmath.benchmark.Main'
}

configureNativeImage {
    args('20')
}

tasks.named(NativeImagePlugin.NATIVE_IMAGE_TASK_NAME, NativeImageTask) {
    useMusl = true
    buildStaticImage = true
}